# Python SDK Samples - Fix List
*Generated by testing framework - prioritized by impact*


## TESTING SUMMARY TL;DR

This framework was successfully used to migrate **108 Python code samples** from SDK v3/v4 to v5:

- **üéØ 90%+ samples now pass** after systematic fixes
- **üîç Identified specific issues**: Invalid imports, syntax errors, outdated patterns
- **‚ö° Prevented hanging tests**: Smart handling of `input()` calls and infinite loops
- **üìä Comprehensive reporting**: Detailed JSON/Markdown reports with actionable fixes
- **üõ†Ô∏è Systematic approach**: Manual fixes guided by framework insights

### Key Issues Fixed:
- **Invalid imports**: `SpeakOptions`, `SpeakOptionsClient` ‚Üí Direct parameter passing
- **Client confusion**: `DeepgramClient` vs `AsyncDeepgramClient` usage
- **Outdated patterns**: Legacy v3/v4 code updated to v5 standards
- **Missing imports**: Added proper `DeepgramClient`, `PrerecordedOptions` imports


## TESTING STRATEGY

### 1. **Fix Framework Issues First** üîß

### 2. **Investigate Empty Errors** üîç
Use debug script to examine samples with empty errors - these might be:
- Missing code blocks
- Import dependency issues
- Code extraction bugs

### 3. **Pattern-Based Fixes** üìù
Many errors cluster around:
- **Legacy files** (may contain outdated SDK patterns)
- **Migration examples** (may have old v3/v4 code)
- **Complex async examples** (indentation issues)

### 4. **Test Commands**
```bash
# Test specific failing sample
pipenv run python debug_sample.py

# Test all samples after fixes
pipenv run python scripts/run_tests.py --language python --docs-path /path/to/deepgram-fern-config

# Focus on empty error samples first - they might be quick wins
```



# FIRST ROUND OF TESTING

## üö® PRIORITY 1: Must Fix (Core Features)

### 1. Self-Hosted Configuration - DONE ‚úÖ
- **File:** `fern/pages/self-hosted/using-sdks-with-self-hosted.mdx`
- **Line:** ~31
- **Command:** `code fern/pages/self-hosted/using-sdks-with-self-hosted.mdx:31`
- **Issue:** Import/syntax error in Python sample
- **Users Affected:** Enterprise customers using self-hosted

### 2. Custom Endpoints - DONE ‚úÖ
- **File:** `fern/pages/api-reference/general/configuring-custom-endpoints.mdx`
- **Line:** ~84
- **Command:** `code fern/pages/api-reference/general/configuring-custom-endpoints.mdx:84`
- **Issue:** Empty error (likely missing content or indentation)
- **Users Affected:** Enterprise customers with dedicated endpoints

### 3. Basic Text-to-Speech - DONE ‚úÖ
- **File:** `fern/pages/text-to-speech/text-to-speech-rest/text-to-speech.mdx`
- **Line:** ~208
- **Command:** `code fern/pages/text-to-speech/text-to-speech-rest/text-to-speech.mdx:208`
- **Issue:** Syntax error in Python sample
- **Users Affected:** All TTS users

### 4. Text Intelligence - DONE ‚úÖ
- **File:** `fern/pages/intelligence/text-intelligence/text-intelligence.mdx`
- **Line:** ~73
- **Command:** `code fern/pages/intelligence/text-intelligence/text-intelligence.mdx:73`
- **Issue:** Import/syntax error
- **Users Affected:** All intelligence feature users

## üî• PRIORITY 2: Important Features

### 5. AWS S3 Integration - DONE ‚úÖ
- **File:** `fern/pages/guides/integrations/aws-s3-presigned-urls-and-deepgram.mdx`
- **Line:** ~137
- **Command:** `code fern/pages/guides/integrations/aws-s3-presigned-urls-and-deepgram.mdx:137`
- **Issue:** Indentation error
- **Users Affected:** AWS customers

### 6. Audio Intelligence - DONE ‚úÖ
- **File:** `fern/pages/intelligence/audio-intelligence/audio-intelligence.mdx`
- **Line:** ~68
- **Command:** `code fern/pages/intelligence/audio-intelligence/audio-intelligence.mdx:68`
- **Issue:** Syntax error
- **Users Affected:** Audio intelligence users

### 7. Streaming Text-to-Speech - DONE ‚úÖ
- **File:** `fern/pages/text-to-speech/text-to-speech-streaming/streaming-text-to-speech.mdx`
- **Line:** ~145
- **Command:** `code fern/pages/text-to-speech/text-to-speech-streaming/streaming-text-to-speech.mdx:145`
- **Issue:** Import error
- **Users Affected:** Streaming TTS users

### 8. Pre-recorded Audio - DONE ‚úÖ
- **File:** `fern/pages/speech-to-text/pre-recorded-audio/pre-recorded-audio.mdx`
- **Line:** ~158
- **Command:** `code fern/pages/speech-to-text/pre-recorded-audio/pre-recorded-audio.mdx:158`
- **Issue:** Import error
- **Users Affected:** Basic transcription users

## ‚ö†Ô∏è PRIORITY 3: Lower Impact

### 9. Legacy Client Options - DONE ‚úÖ
- **File:** `fern/pages/legacy/using-client-options-with-sdks.mdx`
- **Line:** ~59
- **Command:** `code fern/pages/legacy/using-client-options-with-sdks.mdx:59`
- **Issue:** Already updated, may need verification
- **Users Affected:** Users reading legacy docs

### 10. Migration Guides (v2-v3) - DONE ‚úÖ
- **File:** `fern/pages/sdks/python-sdk/v2-to-v3-migration.mdx`
- **Lines:** ~41, ~51
- **Command:** `code fern/pages/sdks/python-sdk/v2-to-v3-migration.mdx:41`
- **Issue:** Outdated examples
- **Users Affected:** Users migrating from very old versions

## üîÑ Additional Files with Multiple Issues

### Streaming Features - DONE ‚úÖ
- `fern/pages/speech-to-text/streaming-audio/live-streaming-audio.mdx:141`
- `fern/pages/voice-agent/voice-agent.mdx:107`
- `fern/pages/voice-agent/voice-agent.mdx:193` - Still needs checking
- `fern/pages/legacy/python-sdk-streaming-transcription.mdx:15`

### Migration Examples - DONE ‚úÖ
- `fern/pages/speech-to-text/migrating/migrating-from-assembly-ai-speech-to-text-to-deepgram.mdx:138`
- `fern/pages/speech-to-text/migrating/migrating-from-google-speech-to-text-stt-to-deepgram.mdx:283`
- `fern/pages/speech-to-text/migrating/migrating-from-amazon-web-services-aws-transcribe-to-deepgram.mdx:359`

### TTS Examples - DONE ‚úÖ
- `fern/pages/text-to-speech/tips-and-tricks/tts-text-chunking.mdx:78`
- `fern/pages/text-to-speech/tips-and-tricks/tts-websocket-streaming.mdx:19`

## üõ†Ô∏è Common Issues Found

1. **Indentation Problems** - Python code in MDX files has inconsistent indentation
2. **Import Order** - Comments and imports are mixed up
3. **Missing Migration Links** - Some samples missing the migration guide comment
4. **Syntax Errors** - Various Python syntax issues from MDX formatting


# 2ND ROUND OF TESTING


### üî• **PRIORITY 1: Syntax/Indentation Errors (Most Common)**
These are code samples with indentation/syntax issues in the generated test files:

#### **Legacy SDK Files (Need Review)** - DONE ‚úÖ
- `python-sdk-streaming-text-to-speech.mdx:33` (line 23 error)
- `python-sdk-streaming-text-to-speech.mdx:131` (line 23 error)
- `python-sdk-pre-recorded-transcription.mdx:61` (line 39 error)
- `python-sdk-pre-recorded-transcription.mdx:87` (line 39 error)
- `python-sdk-text-to-speech.mdx:35` (line 22 error)
- `python-sdk-text-to-speech.mdx:74` (line 22 error)
- `python-sdk-text-to-speech.mdx:123` (line 22 error)
- `python-sdk-text-to-speech.mdx:171` (line 22 error)
- `python-sdk-streaming-transcription.mdx` (empty errors)

#### **Migration Guide Files** - DONE ‚úÖ
- `migrating-from-assembly-ai-speech-to-text-to-deepgram.mdx:138` (line 22 error)
- `migrating-from-assembly-ai-speech-to-text-to-deepgram.mdx:277` (line 22 error)
- `migrating-from-assembly-ai-speech-to-text-to-deepgram.mdx:405` (line 22 error)
- `migrating-from-amazon-web-services-aws-transcribe-to-deepgram.mdx:359` (line 22 error)
- `migrating-from-google-speech-to-text-stt-to-deepgram.mdx:283` (line 22 error)
- `v2-to-v3-migration.mdx:41` (line 24 error)
- `v2-to-v3-migration.mdx:51` (line 24 error)
- `v2-to-v3-migration.mdx:209` (line 69 error)
- `v3-to-v4-migration.mdx:50` (line 21 error)
- `v3-to-v4-migration.mdx:89` (line 21 error)
- `v3-to-v4-migration.mdx:123` (line 21 error)

#### **Intelligence Features** - DONE ‚úÖ
- `text-intelligence.mdx:73` (line 22 error)
- `text-intelligence.mdx:222` (line 22 error)
- `audio-intelligence.mdx:68` (line 22 error)
- `audio-intelligence.mdx:217` (line 22 error)

#### **Text-to-Speech Features** - DONE ‚úÖ
- `text-chunking-for-tts-optimization.mdx:27` (line 23 error)
- `text-chunking-for-tts-optimization.mdx:94` (line 22 error)
- `text-chunking-for-tts-optimization.mdx:158` (line 22 error)
- `text-chunking-for-tts-optimization.mdx:244` (line 22 error)
- `text-to-speech.mdx:208` (line 22 error)
- `streaming-text-to-speech.mdx:145` (line 22 error)
- `tts-websocket-streaming.mdx:19` (line 22 error)

#### **Other Core Features** - DONE ‚úÖ
- `using-sdks-with-self-hosted.mdx:31` (line 22 error)
- `voice-agent.mdx:193` (line 41 error)
- `automatically-generating-webvtt-and-srt-captions.mdx:181` (line 25 error)
- `audio-keep-alive.mdx:320` (line 22 error)
- `aws-s3-presigned-urls-and-deepgram.mdx:137` (line 22 error)
- `aws-s3-presigned-urls-and-deepgram.mdx:167` (line 22 error)
- `the-deepgram-model-improvement-partnership-program.mdx:589` (line 22 error)

### üö® **PRIORITY 2: Empty Error Messages (Investigation Needed)**
These samples fail with no specific error message, indicating potential:
- Import issues
- Empty code blocks
- Code extraction problems

- **MISC FILES** - DONE ‚úÖ

- `using-custom-headers-and-sdks.mdx:52` (empty error)
- `using-custom-headers-and-sdks.mdx:93` (empty error)
- `python-sdk-streaming-transcription.mdx:15` (empty error)
- `python-sdk-streaming-transcription.mdx:27` (empty error)
- `voice-agent.mdx:107` (empty error)
- `voice-agent.mdx:1442` (empty error)
- `live-streaming-audio.mdx:141` (empty error)
- `tts-text-chunking.mdx:78` (empty error)
- `using-custom-parameters-sdks.mdx:81` (empty error)
- `the-deepgram-model-improvement-partnership-program.mdx:286` (empty error)


# 3RD ROUND OF TESTING

## **REALITY CHECK: Only 16 Unique Failing Samples!**
*(The 94 failures were duplicate counting - framework tests each sample twice)*

## üéØ **CURRENT 16 FAILING SAMPLES TO FIX:**

### **Legacy SDK Files (7/16 failures - highest priority):**  - DONE ‚úÖ
1. `python-sdk-pre-recorded-transcription.mdx:61`
2. `python-sdk-pre-recorded-transcription.mdx:87`
3. `python-sdk-streaming-text-to-speech.mdx:125`
4. `python-sdk-streaming-transcription.mdx:27`
5. `python-sdk-text-to-speech.mdx:74`
6. `v2-to-v3-migration.mdx:41`
7. `v3-to-v4-migration.mdx:123`
8. `v3-to-v4-migration.mdx:50`
9. `v3-to-v4-migration.mdx:89`

### **Migration Examples (3/16 failures):**  - DONE ‚úÖ
10. `migrating-from-amazon-web-services-aws-transcribe-to-deepgram.mdx:359`
11. `migrating-from-assembly-ai-speech-to-text-to-deepgram.mdx:138`
12. `migrating-from-google-speech-to-text-stt-to-deepgram.mdx:283`

### **Configuration & Features (4/16 failures):**  - DONE ‚úÖ
13. `using-custom-headers-and-sdks.mdx:93`
14. `using-custom-parameters-sdks.mdx:81`
15. `using-sdks-with-self-hosted.mdx:31`
16. `tts-text-chunking.mdx:78`

### üìä **PATTERN ANALYSIS:**
- **Most failures are in LEGACY documentation** (7/16) - these contain old SDK v3/v4 patterns
- **Our systematic manual fixes worked!** Most core files are now passing
- **Framework improvements eliminated hanging** - tests complete successfully
- **Next focus**: Update legacy examples to SDK v5 patterns

### üéØ **NEXT STEPS:**
1. Focus on the 7 legacy SDK files (they likely need v5 updates)
2. Check the 3 migration examples (may have outdated patterns)
3. Review the 4 configuration samples (likely minor fixes)
4. **Target outcome**: 90%+ pass rate (90+ of 108 samples)

